# ========================================
# LUMON DOCKER-COMPOSE ENVIRONMENT VARIABLES
# ========================================
# SECURITY: This file documents all required environment variables
# Copy this file to .env and set all values before running docker-compose
# ========================================

# ========================================
# MAIN APPLICATION DATABASE (PostgreSQL)
# ========================================
# SECURITY: These passwords MUST be set - no defaults allowed
# Use strong, unique passwords (minimum 32 characters recommended)

# Main PostgreSQL database password (REQUIRED)
POSTGRES_PASSWORD=

# Database name (default: lumon)
POSTGRES_DB=lumon

# Database user (default: postgres)
POSTGRES_USER=postgres

# ========================================
# N8N WORKFLOW AUTOMATION
# ========================================
# SECURITY: n8n uses a separate database for isolation

# N8N Authentication (REQUIRED)
N8N_USER=
N8N_PASSWORD=

# N8N Database Configuration (REQUIRED)
# SECURITY: Use a different password than POSTGRES_PASSWORD
N8N_DB_PASSWORD=
N8N_DB_DATABASE=n8n
N8N_DB_USER=n8n

# N8N Host Configuration (REQUIRED)
N8N_HOST=
N8N_PROTOCOL=https
N8N_SECURE_COOKIE=true

# N8N Security (REQUIRED)
# Generate with: openssl rand -hex 32
N8N_ENCRYPTION_KEY=

# N8N CORS and Webhook URLs (REQUIRED)
N8N_CORS_ORIGIN=
WEBHOOK_URL=
N8N_EDITOR_BASE_URL=

# ========================================
# EXAMPLE CONFIGURATION (Development)
# ========================================
# Replace these with your actual values!
#
# POSTGRES_PASSWORD=your_secure_postgres_password_min_32_chars_recommended
# N8N_DB_PASSWORD=your_secure_n8n_db_password_different_from_postgres
# N8N_USER=admin
# N8N_PASSWORD=your_secure_n8n_password_min_32_chars_recommended
# N8N_HOST=localhost
# N8N_ENCRYPTION_KEY=your_encryption_key_from_openssl_rand_hex_32
# N8N_CORS_ORIGIN=http://localhost:5173
# WEBHOOK_URL=https://localhost:5678
# N8N_EDITOR_BASE_URL=https://localhost:5678

# ========================================
# EXAMPLE CONFIGURATION (Production)
# ========================================
# POSTGRES_PASSWORD=use_secrets_manager_or_vault_in_production
# N8N_DB_PASSWORD=use_secrets_manager_or_vault_in_production
# N8N_USER=admin
# N8N_PASSWORD=use_secrets_manager_or_vault_in_production
# N8N_HOST=n8n.yourdomain.com
# N8N_ENCRYPTION_KEY=use_secrets_manager_or_vault_in_production
# N8N_CORS_ORIGIN=https://yourdomain.com
# WEBHOOK_URL=https://n8n.yourdomain.com
# N8N_EDITOR_BASE_URL=https://n8n.yourdomain.com

# ========================================
# SECURITY BEST PRACTICES
# ========================================
# 1. NEVER commit the actual .env file to git
# 2. Use strong, unique passwords (32+ characters)
# 3. Use different passwords for each service
# 4. In production, use a secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.)
# 5. Rotate passwords regularly
# 6. Limit access to .env files (chmod 600)
# 7. Generate N8N_ENCRYPTION_KEY with: openssl rand -hex 32
# 8. Keep backups of your .env in a secure location
