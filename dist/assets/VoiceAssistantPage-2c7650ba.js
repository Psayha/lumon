import{r,j as e}from"./index-a50492c4.js";import{c as u,H as j,a as N,T as S}from"./Header-fda1cec1.js";const M=u("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),R=u("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),U=u("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),T=()=>{const[l,d]=r.useState(!1),[h,g]=r.useState([]),[i,c]=r.useState(""),[n,b]=r.useState(null),[p,f]=r.useState(null),m=r.useRef(null);r.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const s=window.webkitSpeechRecognition||window.SpeechRecognition,t=new s;t.continuous=!1,t.interimResults=!1,t.lang="ru-RU",t.onstart=()=>{d(!0)},t.onresult=a=>{const o=a.results[0][0].transcript;c(o),setTimeout(()=>{x(o)},100)},t.onerror=a=>{console.error("Speech recognition error:",a.error),d(!1)},t.onend=()=>{d(!1)},b(t)}return"speechSynthesis"in window&&f(window.speechSynthesis),()=>{}},[]),r.useEffect(()=>{var s;(s=m.current)==null||s.scrollIntoView({behavior:"smooth"})},[h]),r.useEffect(()=>()=>{n&&n.stop()},[n]);const y=()=>{if(n)try{n.start()}catch(s){console.error("Error starting recognition:",s)}},v=()=>{if(n)try{n.stop()}catch(s){console.error("Error stopping recognition:",s)}},x=s=>{if(!s.trim())return;const t={id:Date.now().toString(),text:s.trim(),isUser:!0,timestamp:new Date};g(a=>[...a,t]),c(""),setTimeout(()=>{const a={id:(Date.now()+1).toString(),text:w(),isUser:!1,timestamp:new Date};g(o=>[...o,a]),k(a.text)},1e3)},w=()=>{const s=["Понял ваш запрос. Обрабатываю информацию...","Отличная идея! Давайте реализуем это.","Я могу помочь вам с автоматизацией бизнес-процессов.","Создаю workflow для вашей задачи.","Анализирую данные и готовлю отчет.","Настраиваю интеграцию с вашими системами.","Оптимизирую процессы для повышения эффективности.","Готовлю персонализированные рекомендации."];return s[Math.floor(Math.random()*s.length)]},k=s=>{if(p){const t=new SpeechSynthesisUtterance(s);t.lang="ru-RU",t.rate=.9,t.pitch=1.1,p.speak(t)}};return e.jsxs("div",{className:"min-h-screen gradient-bg relative overflow-hidden",children:[e.jsx(j,{}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200/20 dark:bg-blue-400/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200/20 dark:bg-purple-400/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"pt-8 pb-20",children:e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[h.map(s=>e.jsx("div",{className:`flex ${s.isUser?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${s.isUser?"bg-blue-600 text-white rounded-br-md":"bg-white/90 dark:bg-gray-800/90 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 rounded-bl-md backdrop-blur-sm"}`,children:e.jsxs("div",{className:"flex items-start space-x-2",children:[!s.isUser&&e.jsx("div",{className:"p-1 bg-blue-100 dark:bg-blue-900 rounded-full flex-shrink-0",children:e.jsx(N,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:s.text}),e.jsx("p",{className:`text-xs mt-1 ${s.isUser?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:s.timestamp.toLocaleTimeString()})]}),s.isUser&&e.jsx("div",{className:"p-1 bg-blue-500 rounded-full flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})]})})},s.id)),e.jsx("div",{ref:m})]})}),e.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm shadow-lg p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:i,onChange:s=>c(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),x(i))},placeholder:"Введите сообщение",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("button",{onClick:l?v:y,className:`p-2 rounded-full transition-colors ${l?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900 dark:text-red-400 dark:hover:bg-red-800":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:l?e.jsx(M,{className:"w-6 h-6"}):e.jsx(R,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>x(i),disabled:!i.trim(),className:"p-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-full transition-colors",children:e.jsx(U,{className:"w-6 h-6"})})]})})})]})}),e.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 py-6",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{})})})})]})};export{T as default};
